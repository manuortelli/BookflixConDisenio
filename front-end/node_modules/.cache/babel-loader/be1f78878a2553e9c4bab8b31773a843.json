{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documentos\\\\GitHub\\\\bf\\\\front-end\\\\src\\\\components\\\\VistaSuscriptor\\\\Libros\\\\Buscador.js\";\nimport React, { Component } from \"react\";\nimport axios from \"../../../../node_modules/axios\";\nimport propTypes from \"prop-types\";\nimport { set } from \"mongoose\";\nimport { Link } from \"react-router-dom\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport Slider from \"react-slick\";\nimport ItemListLibro from \"./ItemListLibro\";\nimport ItemLIbroConPortada from \"./ItemLIbroConPortada\";\nconst portada = \"http://localhost:4000/uploads/\";\nconst autores = \"http://localhost:4000/api/autores/\";\nconst generos = \"http://localhost:4000/api/generos/\";\nconst editoriales = \"http://localhost:4000/api/editoriales/\";\nconst libros = \"http://localhost:4000/api/libros/\";\nexport default class Buscador extends Component {\n  constructor(props) {\n    super(props);\n\n    this.filtrarFechas = libros => {\n      var hoy = new Date();\n      console.log(\"hoy es:\" + hoy);\n      var res = [];\n      libros.map(lib => {\n        if (lib.lanzamiento != null) {\n          var lan = new Date(lib.lanzamiento);\n\n          if (lan < hoy) {\n            if (lib.expiracion != null) {\n              var ven = new Date(lib.expiracion);\n\n              if (ven > hoy) {\n                res.push(lib);\n              }\n            } else {\n              res.push(lib);\n            }\n          }\n        } else {\n          if (lib.capitulos != []) {\n            res.push(lib);\n          }\n        }\n      });\n      return res;\n    };\n\n    this.getData = async () => {\n      await axios.get(libros, {\n        headers: {\n          xaccess: this.state.token\n        }\n      }).then(res => {\n        this.setLibros(res.data);\n      }).catch();\n      await axios.get(autores, {\n        headers: {\n          xaccess: this.state.token\n        }\n      }).then(res => {\n        this.setAutores(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n      await axios.get(generos, {\n        headers: {\n          xaccess: this.state.token\n        }\n      }).then(res => {\n        this.setGeneros(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n      await axios.get(editoriales, {\n        headers: {\n          xaccess: this.state.token\n        }\n      }).then(res => {\n        this.setEditoriales(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.onInputChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.loPuedoAgregar = libro => {\n      console.log(libro);\n      var puedo = true;\n\n      if (this.state.buscador != \"\") {\n        var resultado = libro.titulo.toLowerCase().indexOf(this.state.buscador.toLowerCase());\n\n        if (resultado != -1) {\n          puedo = true;\n        } else {\n          return false;\n        }\n      }\n\n      if (this.state.autor != \"\") {\n        if (this.state.autor == libro.autor) {\n          puedo = true;\n        } else {\n          return false;\n        }\n      }\n\n      if (this.state.genero != \"\") {\n        if (this.state.genero == libro.genero) {\n          puedo = true;\n        } else {\n          return false;\n        }\n      }\n\n      if (this.state.editorial != \"\") {\n        if (this.state.editorial == libro.editorial) {\n          puedo = true;\n        } else {\n          return false;\n        }\n      }\n\n      return puedo;\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      var lib = [];\n      this.state.libros.map(libro => {\n        console.log(\"entra en el map\");\n\n        if (this.loPuedoAgregar(libro)) {\n          lib.push(libro);\n          console.log(\"entra\");\n          console.log(this.loPuedoAgregar(libro));\n        }\n      });\n      this.setState({\n        librosConFiltro: lib\n      });\n\n      if (lib.length === 0) {\n        alert(\"no existen libros que coincidan con los filtros puestos\");\n      }\n\n      console.log(this.state.librosConFiltro);\n      this.setLibrosConFiltro(lib);\n    };\n\n    this.limpiar = e => {\n      var copia = this.state.autores;\n      this.setState({\n        librosConFiltro: this.state.libros,\n        autor: \"\",\n        buscador: \"\",\n        editorial: \"\",\n        genero: \"\",\n        borrar: true\n      });\n      this.render();\n    };\n\n    this.state = {\n      token: sessionStorage.getItem(\"token\"),\n      buscador: \"\",\n      autor: \"\",\n      genero: \"\",\n      editorial: \"\",\n      libros: [],\n      autores: [],\n      generos: [],\n      editoriales: [],\n      librosConFiltro: [],\n      LibrosCarrousel: [],\n      borrar: false\n    };\n    this.loPuedoAgregar = this.loPuedoAgregar.bind(this);\n  }\n\n  setAutores(res) {\n    this.setState({\n      autores: res\n    });\n  }\n\n  setGeneros(res) {\n    this.setState({\n      generos: res\n    });\n  }\n\n  setEditoriales(res) {\n    this.setState({\n      editoriales: res\n    });\n  }\n\n  setLibros(res) {\n    console.log(\"lista de libros\");\n    var re = this.filtrarFechas(res);\n    console.log(re);\n    this.setState({\n      libros: re,\n      librosConFiltro: re\n    });\n    this.setLibrosConFiltro(re);\n  }\n\n  setLibrosConFiltro(res) {\n    var num = 2;\n    var aux = [];\n    var aux2 = [];\n    res.map(libro => {\n      if (aux.length < num) {\n        aux.push(libro);\n      } else {\n        aux.push(libro);\n        aux2.unshift(aux);\n        aux = [];\n      }\n    });\n\n    if (aux != []) {\n      aux2.unshift(aux);\n    }\n\n    this.setState({\n      LibrosCarrousel: aux2\n    });\n  }\n\n  async componentDidMount() {\n    this.getData();\n  }\n\n  render() {\n    const settings = {\n      dots: true,\n      infinite: false,\n      speed: 500,\n      slidesToShow: 3,\n      slidesToScroll: 1,\n      className: \"slides\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8 offset-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"itemBuscador\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      id: \"exampleFormControlInput1\",\n      name: \"buscador\",\n      onChange: this.onInputChange,\n      value: this.state.buscador,\n      placeholder: \"Buscar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"itemBuscador\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: this.onInputChange,\n      id: \"exampleFormControlSelect1\",\n      name: \"autor\",\n      value: this.state.autor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 17\n      }\n    }, \"Autor/a\"), this.state.autores.map(autor => /*#__PURE__*/React.createElement(\"option\", {\n      key: autor._id,\n      value: autor._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 19\n      }\n    }, autor.nombre, \" \", autor.apellido)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"itemBuscador\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      value: this.state.genero,\n      onChange: this.onInputChange,\n      id: \"exampleFormControlSelect1\",\n      name: \"genero\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 17\n      }\n    }, \"G\\xE9nero\"), this.state.generos.map(ge => /*#__PURE__*/React.createElement(\"option\", {\n      key: ge._id,\n      value: ge._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 19\n      }\n    }, ge.nombre)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"itemBuscador\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: this.onInputChange,\n      id: \"exampleFormControlSelect1\",\n      name: \"editorial\",\n      value: this.state.editorial,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 17\n      }\n    }, \"Editorial\"), this.state.editoriales.map(ed => /*#__PURE__*/React.createElement(\"option\", {\n      key: ed.id,\n      value: ed._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 19\n      }\n    }, ed.nombre)))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-light itemBoton  \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      class: \"bi bi-search\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 16 16\",\n      fill: \"currentColor\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.limpiar,\n      className: \"btn btn-light itemBoton \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      class: \"bi bi-backspace\",\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 16 16\",\n      fill: \"currentColor\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M6.603 2h7.08a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-7.08a1 1 0 0 1-.76-.35L1 8l4.844-5.65A1 1 0 0 1 6.603 2zm7.08-1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7.08a2 2 0 0 1-1.519-.698L.241 8.65a1 1 0 0 1 0-1.302L5.084 1.7A2 2 0 0 1 6.603 1h7.08z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M5.83 5.146a.5.5 0 0 0 0 .708l5 5a.5.5 0 0 0 .707-.708l-5-5a.5.5 0 0 0-.708 0z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M11.537 5.146a.5.5 0 0 1 0 .708l-5 5a.5.5 0 0 1-.708-.708l5-5a.5.5 0 0 1 .707 0z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 17\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"carrusel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Slider, Object.assign({}, settings, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 11\n      }\n    }), this.state.librosConFiltro.map(libro => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-VerLibro\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"imgBx\",\n      to: \"/suscriptor/libros/\" + libro._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: portada + libro.portada,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"titulo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 23\n      }\n    }, \" \", libro.titulo, \" \")))))))));\n  }\n\n}","map":{"version":3,"sources":["D:/Documentos/GitHub/bf/front-end/src/components/VistaSuscriptor/Libros/Buscador.js"],"names":["React","Component","axios","propTypes","set","Link","Slider","ItemListLibro","ItemLIbroConPortada","portada","autores","generos","editoriales","libros","Buscador","constructor","props","filtrarFechas","hoy","Date","console","log","res","map","lib","lanzamiento","lan","expiracion","ven","push","capitulos","getData","get","headers","xaccess","state","token","then","setLibros","data","catch","setAutores","err","setGeneros","setEditoriales","onInputChange","e","setState","target","name","value","loPuedoAgregar","libro","puedo","buscador","resultado","titulo","toLowerCase","indexOf","autor","genero","editorial","onSubmit","preventDefault","librosConFiltro","length","alert","setLibrosConFiltro","limpiar","copia","borrar","render","sessionStorage","getItem","LibrosCarrousel","bind","re","num","aux","aux2","unshift","componentDidMount","settings","dots","infinite","speed","slidesToShow","slidesToScroll","className","_id","nombre","apellido","ge","ed","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"../../../../node_modules/axios\";\r\n\r\nimport propTypes from \"prop-types\";\r\nimport { set } from \"mongoose\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport Slider from \"react-slick\";\r\nimport ItemListLibro from \"./ItemListLibro\";\r\nimport ItemLIbroConPortada from \"./ItemLIbroConPortada\";\r\n\r\nconst portada = \"http://localhost:4000/uploads/\";\r\nconst autores = \"http://localhost:4000/api/autores/\";\r\nconst generos = \"http://localhost:4000/api/generos/\";\r\nconst editoriales = \"http://localhost:4000/api/editoriales/\";\r\nconst libros = \"http://localhost:4000/api/libros/\";\r\n\r\nexport default class Buscador extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      token: sessionStorage.getItem(\"token\"),\r\n\r\n      buscador: \"\",\r\n      autor: \"\",\r\n      genero: \"\",\r\n      editorial: \"\",\r\n\r\n      libros: [],\r\n      autores: [],\r\n      generos: [],\r\n      editoriales: [],\r\n\r\n      librosConFiltro: [],\r\n      LibrosCarrousel: [],\r\n      borrar: false,\r\n    };\r\n    this.loPuedoAgregar = this.loPuedoAgregar.bind(this);\r\n  }\r\n  setAutores(res) {\r\n    this.setState({\r\n      autores: res,\r\n    });\r\n  }\r\n  setGeneros(res) {\r\n    this.setState({\r\n      generos: res,\r\n    });\r\n  }\r\n\r\n  setEditoriales(res) {\r\n    this.setState({\r\n      editoriales: res,\r\n    });\r\n  }\r\n\r\n  filtrarFechas = (libros) => {\r\n    var hoy = new Date();\r\n    console.log(\"hoy es:\" + hoy);\r\n    var res = [];\r\n    libros.map((lib) => {\r\n      if (lib.lanzamiento != null) {\r\n        var lan = new Date(lib.lanzamiento);\r\n        if (lan < hoy) {\r\n          if (lib.expiracion != null) {\r\n            var ven = new Date(lib.expiracion);\r\n            if (ven > hoy) {\r\n              res.push(lib);\r\n            }\r\n          } else {\r\n            res.push(lib);\r\n          }\r\n        }\r\n      } else {\r\n        if (lib.capitulos != []) {\r\n          res.push(lib);\r\n        }\r\n      }\r\n    });\r\n\r\n    return res;\r\n  };\r\n\r\n  setLibros(res) {\r\n    console.log(\"lista de libros\");\r\n    var re = this.filtrarFechas(res);\r\n\r\n    console.log(re);\r\n    this.setState({\r\n      libros: re,\r\n      librosConFiltro: re,\r\n    });\r\n    this.setLibrosConFiltro(re);\r\n  }\r\n  setLibrosConFiltro(res) {\r\n    var num = 2;\r\n    var aux = [];\r\n    var aux2 = [];\r\n\r\n    res.map((libro) => {\r\n      if (aux.length < num) {\r\n        aux.push(libro);\r\n      } else {\r\n        aux.push(libro);\r\n        aux2.unshift(aux);\r\n        aux = [];\r\n      }\r\n    });\r\n    if (aux != []) {\r\n      aux2.unshift(aux);\r\n    }\r\n    this.setState({\r\n      LibrosCarrousel: aux2,\r\n    });\r\n  }\r\n\r\n  getData = async () => {\r\n    await axios\r\n      .get(libros, {\r\n        headers: { xaccess: this.state.token },\r\n      })\r\n      .then((res) => {\r\n        this.setLibros(res.data);\r\n      })\r\n      .catch();\r\n\r\n    await axios\r\n      .get(autores, {\r\n        headers: { xaccess: this.state.token },\r\n      })\r\n      .then((res) => {\r\n        this.setAutores(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    await axios\r\n      .get(generos, {\r\n        headers: { xaccess: this.state.token },\r\n      })\r\n      .then((res) => {\r\n        this.setGeneros(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    await axios\r\n      .get(editoriales, {\r\n        headers: { xaccess: this.state.token },\r\n      })\r\n      .then((res) => {\r\n        this.setEditoriales(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  async componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  onInputChange = (e) => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  loPuedoAgregar = (libro) => {\r\n    console.log(libro);\r\n    var puedo = true;\r\n\r\n    if (this.state.buscador != \"\") {\r\n      var resultado = libro.titulo\r\n        .toLowerCase()\r\n        .indexOf(this.state.buscador.toLowerCase());\r\n\r\n      if (resultado != -1) {\r\n        puedo = true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    if (this.state.autor != \"\") {\r\n      if (this.state.autor == libro.autor) {\r\n        puedo = true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    if (this.state.genero != \"\") {\r\n      if (this.state.genero == libro.genero) {\r\n        puedo = true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n    if (this.state.editorial != \"\") {\r\n      if (this.state.editorial == libro.editorial) {\r\n        puedo = true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n    return puedo;\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    var lib = [];\r\n    this.state.libros.map((libro) => {\r\n      console.log(\"entra en el map\");\r\n      if (this.loPuedoAgregar(libro)) {\r\n        lib.push(libro);\r\n        console.log(\"entra\");\r\n        console.log(this.loPuedoAgregar(libro));\r\n      }\r\n    });\r\n\r\n    this.setState({\r\n      librosConFiltro: lib,\r\n    });\r\n    if (lib.length === 0) {\r\n      alert(\"no existen libros que coincidan con los filtros puestos\");\r\n    }\r\n    console.log(this.state.librosConFiltro);\r\n\r\n    this.setLibrosConFiltro(lib);\r\n  };\r\n\r\n  limpiar = (e) => {\r\n    var copia = this.state.autores;\r\n\r\n    this.setState({\r\n      librosConFiltro: this.state.libros,\r\n      autor: \"\",\r\n      buscador: \"\",\r\n      editorial: \"\",\r\n      genero: \"\",\r\n\r\n      borrar: true,\r\n    });\r\n\r\n    this.render();\r\n  };\r\n\r\n  render() {\r\n    const settings = {\r\n      dots: true,\r\n      infinite: false,\r\n      speed: 500,\r\n      slidesToShow: 3,\r\n      slidesToScroll: 1,\r\n      className: \"slides\",\r\n    };\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          <form onSubmit={this.onSubmit}>\r\n            <div className=\"itemBuscador\">\r\n              <input\r\n                className=\"form-control\"\r\n                id=\"exampleFormControlInput1\"\r\n                name=\"buscador\"\r\n                onChange={this.onInputChange}\r\n                value={this.state.buscador}\r\n                placeholder=\"Buscar\"\r\n              ></input>\r\n            </div>\r\n\r\n            <div className=\"itemBuscador\">\r\n              <select\r\n                className=\"form-control\"\r\n                onChange={this.onInputChange}\r\n                id=\"exampleFormControlSelect1\"\r\n                name=\"autor\"\r\n                value={this.state.autor}\r\n              >\r\n                <option value=\"\" selected>\r\n                  Autor/a\r\n                </option>\r\n                {this.state.autores.map((autor) => (\r\n                  <option key={autor._id} value={autor._id}>\r\n                    {autor.nombre} {autor.apellido}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"itemBuscador\">\r\n              <select\r\n                className=\"form-control\"\r\n                value={this.state.genero}\r\n                onChange={this.onInputChange}\r\n                id=\"exampleFormControlSelect1\"\r\n                name=\"genero\"\r\n              >\r\n                <option value=\"\">GÃ©nero</option>\r\n                {this.state.generos.map((ge) => (\r\n                  <option key={ge._id} value={ge._id}>\r\n                    {ge.nombre}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"itemBuscador\">\r\n              <select\r\n                className=\"form-control\"\r\n                onChange={this.onInputChange}\r\n                id=\"exampleFormControlSelect1\"\r\n                name=\"editorial\"\r\n                value={this.state.editorial}\r\n              >\r\n                <option value=\"\">Editorial</option>\r\n                {this.state.editoriales.map((ed) => (\r\n                  <option key={ed.id} value={ed._id}>\r\n                    {ed.nombre}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <button type=\"submit\" className=\"btn btn-light itemBoton  \">\r\n              <svg\r\n                class=\"bi bi-search\"\r\n                width=\"1em\"\r\n                height=\"1em\"\r\n                viewBox=\"0 0 16 16\"\r\n                fill=\"currentColor\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n              >\r\n                <path\r\n                  fill-rule=\"evenodd\"\r\n                  d=\"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z\"\r\n                />\r\n                <path\r\n                  fill-rule=\"evenodd\"\r\n                  d=\"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z\"\r\n                />\r\n              </svg>\r\n            </button>\r\n            <button onClick={this.limpiar} className=\"btn btn-light itemBoton \">\r\n              <svg\r\n                class=\"bi bi-backspace\"\r\n                width=\"1em\"\r\n                height=\"1em\"\r\n                viewBox=\"0 0 16 16\"\r\n                fill=\"currentColor\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n              >\r\n                <path\r\n                  fill-rule=\"evenodd\"\r\n                  d=\"M6.603 2h7.08a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-7.08a1 1 0 0 1-.76-.35L1 8l4.844-5.65A1 1 0 0 1 6.603 2zm7.08-1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7.08a2 2 0 0 1-1.519-.698L.241 8.65a1 1 0 0 1 0-1.302L5.084 1.7A2 2 0 0 1 6.603 1h7.08z\"\r\n                />\r\n                <path\r\n                  fill-rule=\"evenodd\"\r\n                  d=\"M5.83 5.146a.5.5 0 0 0 0 .708l5 5a.5.5 0 0 0 .707-.708l-5-5a.5.5 0 0 0-.708 0z\"\r\n                />\r\n                <path\r\n                  fill-rule=\"evenodd\"\r\n                  d=\"M11.537 5.146a.5.5 0 0 1 0 .708l-5 5a.5.5 0 0 1-.708-.708l5-5a.5.5 0 0 1 .707 0z\"\r\n                />\r\n              </svg>\r\n            </button>\r\n          </form>\r\n        </div>\r\n\r\n        <div className=\"carrusel\">\r\n          <Slider {...settings}>\r\n            {this.state.librosConFiltro.map((libro) => (\r\n              <div className=\"container-VerLibro\">\r\n                <div className=\"box\">\r\n                  <Link\r\n                    className=\"imgBx\"\r\n                    to={\"/suscriptor/libros/\" + libro._id}\r\n                  >\r\n                    <img src={portada + libro.portada} />\r\n                  </Link>\r\n                  <span className=\"content\">\r\n                    <span>\r\n                      <br></br>\r\n                      <h2 className=\"titulo\"> {libro.titulo} </h2>\r\n                    </span>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </Slider>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}