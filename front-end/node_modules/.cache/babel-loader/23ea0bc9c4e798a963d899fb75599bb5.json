{"ast":null,"code":"var _jsxFileName = \"/home/manuel/git/BookflixOficialDonna/bf/front-end/src/components/VistaSuscriptor/Perfiles/AgregarPerfil.js\";\nimport React, { Component } from 'react';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\nimport axios from \"axios\";\nimport { Link } from 'react-router-dom';\nimport Perfiles from './ListadoPerfiles';\nconst misPerfiles = \"http://localhost:4000/api/suscriptores/loginPerfiles\";\nconst cargar = \"http://localhost:4000/api/suscriptores/agregarPerfil\";\n\nclass AgregarPerfil extends Component {\n  constructor(props) {\n    super(props);\n\n    this.ingresarPerfil = async (e, idllega) => {\n      console.log(\"id que llega \", idllega);\n      await axios.post(loginPerfilApi, {\n        id: idllega\n      }, {\n        headers: {\n          xaccess: sessionStorage.getItem(\"token\")\n        }\n      }).then(res => {\n        const {\n          user,\n          token\n        } = res.data;\n        sessionStorage.setItem(\"token\", token);\n        sessionStorage.setItem(\"perfilUser\", JSON.stringify(user));\n        sessionStorage.setItem(\"perfil\", res.data.user);\n        sessionStorage.setItem(\"perfilID\", user._id);\n        return window.location = '/homesuscriptor';\n      });\n    };\n\n    this.borrarperfil = async (e, idllega) => {\n      if (this.state.misPerfiles.length > 1) {\n        await axios.post(borrarPerfil, {\n          suscriptorId: this.state.suscripcion.user._id,\n          perfilId: idllega\n        }, {\n          headers: {\n            'xaccess': sessionStorage.getItem('token')\n          }\n        }).then(res => {\n          console.log(res.data);\n          window.location.reload(true);\n        }).catch(err => {\n          alert(err.response);\n        });\n      } else {\n        alert(\"No puedes eliminar el unico perfil que tienes\");\n      }\n    };\n\n    this.getDatos = async () => {\n      await axios.get(misPerfiles, {\n        headers: {\n          'xaccess': sessionStorage.getItem('tokenSuscriptor')\n        }\n      }).then(res => {\n        this.setState({\n          misPerfiles: res.data\n        });\n      }).catch(err => {\n        alert(err.response);\n      });\n    };\n\n    this.componentDidMount = async () => {\n      this.getDatos();\n    };\n\n    this.onSubmit = async e => {\n      e.preventDefault();\n\n      if (this.state.suscripcion.user.suscripcion === \"REGULAR\" && this.state.misPerfiles.length < 2) {\n        await axios.post(cargar, {\n          id: this.state.suscripcion.user._id,\n          nombre: this.state.nombre\n        }, {\n          headers: {\n            xaccess: this.state.token\n          }\n        }).then(res => {\n          alert(JSON.stringify(res.response.data.msg));\n          window.location.reload(true);\n        }).catch(err => {\n          console.log(err);\n          window.location.reload(true);\n        });\n      } else if (this.state.suscripcion.user.suscripcion === \"PREMIUM\" && this.state.misPerfiles.length < 4) {\n        await axios.post(cargar, {\n          id: this.state.suscripcion.user._id,\n          nombre: this.state.nombre\n        }, {\n          headers: {\n            xaccess: this.state.token\n          }\n        }).then(res => {\n          alert(JSON.stringify(res.response.data.msg));\n          window.location.reload(true);\n        }).catch(err => {\n          console.log(err);\n          window.location.reload(true);\n        });\n      } else {\n        alert(\"No podes agregar otro perfil, ya estas en tu maximo permitido, borrá alguno para agregar otro\");\n      }\n    };\n\n    this.onInputChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.state = {\n      token: sessionStorage.getItem(\"token\"),\n      suscripcion: JSON.parse(sessionStorage.getItem(\"user\")),\n      miPerfil: JSON.parse(sessionStorage.getItem(\"perfilUser\")),\n      nombre: '',\n      misPerfiles: []\n    };\n    this.onInputChange = this.onInputChange.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cardAgregarPerfil col-md-6 offset-md-3 text-light bg-dark \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }\n    }, \"Perfiles de \", this.state.suscripcion.user.nombre, \" \"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 23\n      }\n    }, \"Sus perfiles: \")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }, this.state.misPerfiles.map(perfil => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cardListarPerfil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 29\n      }\n    }, \" \", perfil.nombre, \" \"), \" \", /*#__PURE__*/React.createElement(\"button\", {\n      onClick: e => {\n        this.borrarperfil(e, perfil.id);\n      },\n      className: \"btn btn-outline-danger itemBoton float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 56\n      }\n    }, \"Eliminar\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: e => {\n        this.ingresarPerfil(e, perfil.id);\n      },\n      className: \"btn btn-outline-danger itemBoton float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 29\n      }\n    }, \"Ingresar\")))), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      id: \"nombre\",\n      name: \"nombre\",\n      onChange: this.onInputChange,\n      placeholder: \"Nombre del nuevo perfil \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn  btn-outline-danger itemBoton float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 21\n      }\n    }, \"Agregar perfil\")));\n  }\n\n}\n\nexport default AgregarPerfil;","map":{"version":3,"sources":["/home/manuel/git/BookflixOficialDonna/bf/front-end/src/components/VistaSuscriptor/Perfiles/AgregarPerfil.js"],"names":["React","Component","axios","Link","Perfiles","misPerfiles","cargar","AgregarPerfil","constructor","props","ingresarPerfil","e","idllega","console","log","post","loginPerfilApi","id","headers","xaccess","sessionStorage","getItem","then","res","user","token","data","setItem","JSON","stringify","_id","window","location","borrarperfil","state","length","borrarPerfil","suscriptorId","suscripcion","perfilId","reload","catch","err","alert","response","getDatos","get","setState","componentDidMount","onSubmit","preventDefault","nombre","msg","onInputChange","target","name","value","parse","miPerfil","bind","render","map","perfil"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\nimport axios from \"axios\";\nimport { Link } from 'react-router-dom';\nimport Perfiles from './ListadoPerfiles';\n\nconst misPerfiles = \"http://localhost:4000/api/suscriptores/loginPerfiles\";\nconst cargar = \"http://localhost:4000/api/suscriptores/agregarPerfil\";\n\nclass AgregarPerfil extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            token: sessionStorage.getItem(\"token\"),\n            suscripcion: JSON.parse(sessionStorage.getItem(\"user\")),\n            miPerfil: JSON.parse(sessionStorage.getItem(\"perfilUser\")),\n            nombre: '',\n            misPerfiles: []\n        }\n\n        this.onInputChange = this.onInputChange.bind(this);\n\n\n\n    }\n\n    ingresarPerfil = async (e, idllega) => {\n        console.log(\"id que llega \", idllega)\n        await axios\n            .post(\n                loginPerfilApi,\n                { id: idllega },\n                {\n                    headers: { xaccess: sessionStorage.getItem(\"token\") },\n                }\n            )\n            .then((res) => {\n\n                const { user, token } = res.data;\n                sessionStorage.setItem(\"token\", token);\n                sessionStorage.setItem(\"perfilUser\", JSON.stringify(user));\n                sessionStorage.setItem(\"perfil\", res.data.user);\n                sessionStorage.setItem(\"perfilID\", user._id);\n                return (window.location = '/homesuscriptor')\n\n\n            });\n\n    }\n\n    borrarperfil = async (e, idllega) => {\n        if (this.state.misPerfiles.length > 1) {\n            await axios.post(borrarPerfil,\n                {\n                    suscriptorId: this.state.suscripcion.user._id,\n                    perfilId: idllega\n                },\n                {\n                    headers: { 'xaccess': sessionStorage.getItem('token') }\n                })\n                .then(res => {\n                    console.log(res.data)\n                    window.location.reload(true);\n                })\n                .catch(err => {\n                    alert(err.response)\n                });\n\n        } else { alert(\"No puedes eliminar el unico perfil que tienes\") }\n    }\n\n\n\n\n    getDatos = async () => {\n        await axios.get(misPerfiles,\n\n            {\n                headers: { 'xaccess': sessionStorage.getItem('tokenSuscriptor') }\n            })\n            .then(res => {\n                this.setState({\n                    misPerfiles: res.data\n                })\n            })\n            .catch(err => {\n                alert(err.response)\n            });\n\n\n\n    };\n\n\n\n    componentDidMount = async () => {\n        this.getDatos();\n    }\n\n    onSubmit = async (e) => {\n        e.preventDefault();\n        if (this.state.suscripcion.user.suscripcion === \"REGULAR\" && this.state.misPerfiles.length < 2) {\n            await axios.post(cargar,\n                {\n                    id: this.state.suscripcion.user._id,\n                    nombre: this.state.nombre\n                },\n                { headers: { xaccess: this.state.token } }\n            )\n                .then((res) => {\n                    alert(JSON.stringify(res.response.data.msg));\n                    window.location.reload(true);\n\n                })\n\n                .catch((err) => {\n                    console.log(err);\n                    window.location.reload(true);\n\n                });\n        } else if (this.state.suscripcion.user.suscripcion === \"PREMIUM\" && this.state.misPerfiles.length < 4) {\n            await axios.post(cargar,\n                {\n                    id: this.state.suscripcion.user._id,\n                    nombre: this.state.nombre\n                },\n                { headers: { xaccess: this.state.token } }\n            )\n                .then((res) => {\n                    alert(JSON.stringify(res.response.data.msg));\n                    window.location.reload(true);\n\n                })\n\n                .catch((err) => {\n                    console.log(err);\n                    window.location.reload(true);\n\n                });\n        } else {\n            alert(\"No podes agregar otro perfil, ya estas en tu maximo permitido, borrá alguno para agregar otro\")\n\n        }\n    };\n\n\n    onInputChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n\n    };\n\n\n    render() {\n        return (\n\n            <div className=\"cardAgregarPerfil col-md-6 offset-md-3 text-light bg-dark \">\n                <h4 className=\"card-header\">Perfiles de {this.state.suscripcion.user.nombre} </h4>\n\n                <span><h5 className=\"card-header\">Sus perfiles: </h5></span>\n\n                <div>\n\n                    {this.state.misPerfiles.map(perfil =>\n                        <div className=\"cardListarPerfil\">\n\n                            <h5> {perfil.nombre} </h5> <button onClick={(e) => { this.borrarperfil(e, perfil.id) }} className=\"btn btn-outline-danger itemBoton float-right\">Eliminar</button>\n                            <button onClick={(e) => { this.ingresarPerfil(e, perfil.id) }} className=\"btn btn-outline-danger itemBoton float-right\">Ingresar</button>\n\n                        </div>\n\n                    )}\n\n                </div>\n\n                <form onSubmit={this.onSubmit} >\n\n                    <div className=\"form-group\">\n                        <input className=\"form-control\"\n                            id=\"nombre\"\n                            name=\"nombre\"\n                            onChange={this.onInputChange}\n                            placeholder=\"Nombre del nuevo perfil \"\n                        >\n                        </input>\n                    </div>\n\n\n\n                    <button type=\"submit\" className=\"btn  btn-outline-danger itemBoton float-right\">\n                        Agregar perfil\n                            </button>\n\n\n                </form>\n\n\n\n\n\n\n            </div>\n\n\n        )\n    }\n}\n\nexport default AgregarPerfil;"]},"metadata":{},"sourceType":"module"}